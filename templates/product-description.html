{% extends 'includes/layout.html' %}


{% block body %}
<main class="container">
  <div class="bg-dark p-5 rounded mt-5">
    <h1> Product Description Generator </h1>
    <p class="lead">
    Us Ai to generate product description ideas. Enter a brand, product name and keyword to get started.
    </p>

    <form class="" action="/product-description" method="post">

        <div class="mb-3">
            <label for="brandInput" class="form-label">Brand:</label>
            <input type="text" class="form-control" id="brandInput" name="brand" placeholder="e.g Apple" value="{{ brand }}">
          </div>
          <div class="mb-3">
            <label for="productInput" class="form-label">Product:</label>
            <input type="text" class="form-control" id="productInput" name="product" placeholder="e.g 'iPhone'" value="{{ product }}">
          </div>
          <div class="mb-3">
            <label for="keywordInput" class="form-label">Keyword:</label>
            <input type="text" class="form-control" id="keywordInput" name="keyword" placeholder="e.g 'iPhone 14 pro '" value="{{ keyword }}">
          </div>
  
        <button type="submit" class="btn btn-danger btn-lg"> Generate Product Description!</button>
  
      </form>
  </div>


  <div class="p-3 rounded">
    <div class="row">
      <div class="col-lg-12">
        <h5 class="text-primary text-white">{{prompt}}</h5>
        <br>
        <div style='border-style:solid; border-width:1px; border-color: #D3D3D3; padding: 15px' class="lead" id="copyBox" contenteditable>
          <p>{{openAIAnswer}}</p>
        </div>
        <div>
          <p style='font-size: 18px; color:white'>Note: You can click the generated descriptions to edit them.</p>
          <button type="button" class="btn btn-sm btn-danger" onclick="copyToClipboard(document.getElementById('copyBox').innerText)">Copy</button>
        </div>
        <div id="message"></div>
      </div>
    </div>
  </div>

   <!-- New Row -->
   <div class="row mt-3">
    <div class="col-lg-6">
      <h6>You may also like:</h6><a href="rewriter" class="btn btn-sm btn-primary">Re-write Existing Text ✏️</a>
      <br>
    </div>
  </div>
</div>

  <script>
    function copyToClipboard(text) {
      // Get the text content of the element, if an element is passed in
      if (typeof(text) === 'object') {
        text = text.innerText;
      }
    
      // Create a temporary input element
      var tempInput = document.createElement("input");
      tempInput.type = "text";
      tempInput.value = text;
    
      // Append the input element to the document body
      document.body.appendChild(tempInput);
    
      // Select the text content and copy it to the clipboard
      tempInput.select();
      document.execCommand("copy");
    
      // Remove the temporary input element from the document body
      document.body.removeChild(tempInput);
    
      // Display the message
      var message = document.getElementById("message");
      message.innerHTML = "Text Copied!";
    }
    
    </script>  
   
</main>
{% endblock %}
